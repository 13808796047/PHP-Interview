## 创造型

创建型中的模式，主要就是生产和创建类的，主要有工厂模式、单例模式、建造者模式、原型模式等

### 1. 简单工厂

简单工厂就是一个工厂，只创建一个单一的类。不能创建其他的类，这就是简单工厂

```php
class Factory {
    
    public function create()
    {
        return new A();
    }
}

```

这个简单的工厂只能创建A类。

### 2. 工厂方法

- [模式动机](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/factory_method.html#id16)

关于工厂模式的定义动机可以查阅[工厂模式](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/factory_method.html#id17)。

我只写下自己的理解

有些时候，我们需要一个工厂创建不同的产品。比如军工厂既能创建子弹，又能创建枪。

工厂方法模式包含如下角色：

- Product：抽象产品
- ConcreteProduct：具体产品
- Factory：抽象工厂
- ConcreteFactory：具体工厂

![../_images/FactoryMethod.jpg](http://design-patterns.readthedocs.io/zh_CN/latest/_images/FactoryMethod.jpg) 



```php
interface Ifactory{
    public function create($type);
}

class Factory implements Ifactory{
    public function create($type){
        if($type == 'A') {
            return new A();
        } else if($type == 'B') {
            return new B();
        }
    }    
}
```

### 3. 抽象工厂

[抽象工厂详细介绍](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/abstract_factory.html)

简单的个人理解：抽象工厂是为了创建不同的类型的产品。抽象出工厂。让不同的工厂创建不同的产品

举个例子。比如抽象军工厂。军工厂A生产枪，军工厂B生产子弹。

![../_images/AbatractFactory.jpg](http://design-patterns.readthedocs.io/zh_CN/latest/_images/AbatractFactory.jpg) 

代码可以参考

[https://github.com/domnikl/DesignPatternsPHP/blob/master/Creational/AbstractFactory](https://github.com/domnikl/DesignPatternsPHP/blob/master/Creational/AbstractFactory)

### 4. 建造者模式

详细表述可以参考[http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html)

- [模式动机](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id3)
- [模式定义](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id4)
- [模式结构](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id5)
- [时序图](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id6)
- [代码分析](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id7)
- [模式分析](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id8)
- [实例](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id9)
- [优点](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id10)
- [缺点](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id11)
- [适用环境](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id12)
- [模式应用](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id13)
- [模式扩展](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id14)
- [总结](http://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/builder.html#id15)

个人理解

建造者模式的作用，就是将多个不同的对象组合成一个完成的对象。比如我们在盖房子的时候，需要水泥、钢筋、砖瓦等。工人把这些组合在一起就建成了一个房子。

### 5. 单例模式

单例模式(Singleton Pattern)：单例模式确保某一个类只有一个实例，而且自行实例化并向整个系统提供这个实例，这个类称为单例类，它提供全局访问的方法。 

这个模式很好理解。就是一个对象的实例只在整个系统存在一次。比如我们链接数据库的时候，可以使用同一个链接。减少对数据库的链接，减轻数据库服务器压力。

```php
class Singleton{
    private static $instance;
    private function __construct()
    {
        
    }
    
    public static function getInstance()
    {
        if(!self::$instance) {
            self::$instance = new Singleton();
        }
        return self::$instance;
    }
    
    
    
    
}
```

